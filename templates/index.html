<!doctype html>
<head>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <title>MindGraph</title>
</head>

<body>
    <div style='float:left; width:30%'>
        <h2>MindGraph v0</h2>

        <script type=text/javascript>
        $(function() {
            $('#calculate').bind('click', function() {
                $.getJSON('/generate_dot', {
                    input_text: $('textarea[name="input_text"]').val()
                }, function(data) {
                    $("#dot_repr").text(data.dot_repr);
                    document.getElementById("picture").src = "https://chart.googleapis.com/chart?cht=gv:dot&chs=500x500&chl=" + data.dot_repr;
                });
                return false;
            });
        });
        </script>

        <button id="calculate">Generate graph</button>
        <textarea name="input_text" cols="40" rows="25">
# first tree: technologies
Programming Language, CI .is Technology

Python, C++ .is Programming Language
Travis .is CI

# second tree: projects
Data Science .is Project
xgboost, sklearn .is Data Science

# relations
xgboost .uses Travis, Python, C++
sklearn .uses Travis, Python</textarea>
    </div>

    <div style='float:left; width:30%'>
        <p> Graph
        <p><img alt="neato chart" id="picture"/>
        <p> DOT representation:
        <p><span id="dot_repr"></span>
    </div>
</body>
