<!doctype html>
<head>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <title>MindGraph</title>
</head>

<body>
    <div style='float:left; width:30%'>
        <h2>MindGraph v0</h2>

        <script type=text/javascript>
        $(function() {
            $('a#calculate').bind('click', function() {
                $.getJSON('/generate_dot', {
                    input_text: $('textarea[name="input_text"]').val()
                }, function(data) {
                    $("#dot_repr").text(data.dot_repr);
                    document.getElementById("picture").src = "https://chart.googleapis.com/chart?cht=gv:dot&chs=500x500&chl=" + data.dot_repr;
                });
                return false;
            });
        });
        </script>

        <h3>Input</h3>
        <textarea name="input_text" cols="40" rows="15">
# first tree: technologies
Programming Language .is Technology
CI .is Technology

Python .is Programming Language
C++ .is Programming Language
Travis .is CI

# second tree: projects
# for now, use 'dummy' relation .is2 to separate by colors
Data Science .is2 Project
xgboost .is2 Data Science
sklearn .is2 Data Science

# relations
xgboost .uses Travis
xgboost .uses Python
xgboost .uses C++

sklearn .uses Travis
sklearn .uses Python
        </textarea>
        <p><a href="javascript:void();" id="calculate">Generate graph</a>
    </div>

    <div style='float:left; width:30%'>
        <p> Graph
        <p><img alt="neato chart" id="picture"/>
        <p> DOT representation:
        <p><span id="dot_repr"></span>
    </div>
</body>
